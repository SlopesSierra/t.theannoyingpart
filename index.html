<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Silent Confesions</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  <script type="module">
    import React, { useState, useEffect } from 'https://esm.sh/react@18';
    import ReactDOM from 'https://esm.sh/react-dom@18/client';
    import { Heart, Calendar, ChevronLeft, ChevronRight, BookOpen } from 'https://esm.sh/lucide-react@0.263.1';

    const DiaryApp = () => {
      const [entries, setEntries] = useState([]);
      const [loading, setLoading] = useState(true);
      const [currentIndex, setCurrentIndex] = useState(0);

      // Load entries from JSON file
      useEffect(() => {
        fetch('/entries.json')
          .then(res => res.json())
          .then(data => {
            setEntries(data);
            setLoading(false);
          })
          .catch(err => {
            console.error('Error loading entries:', err);
            setLoading(false);
          });
      }, []);

      if (loading) {
        return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white flex items-center justify-center' },
          React.createElement('div', { className: 'text-center' },
            React.createElement(BookOpen, { className: 'w-16 h-16 mx-auto mb-4 animate-pulse text-pink-400' }),
            React.createElement('p', { className: 'text-xl text-slate-300' }, 'Opening the diary...')
          )
        );
      }

      if (entries.length === 0) {
        return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white flex items-center justify-center' },
          React.createElement('div', { className: 'text-center' },
            React.createElement('p', { className: 'text-xl text-slate-300' }, 'No entries found. Add some to entries.json!')
          )
        );
      }

      const currentEntry = entries[currentIndex];

      const goToPrevious = () => {
        setCurrentIndex((prev) => (prev > 0 ? prev - 1 : entries.length - 1));
      };

      const goToNext = () => {
        setCurrentIndex((prev) => (prev < entries.length - 1 ? prev + 1 : 0));
      };

      const moodColors = {
        grateful: 'from-amber-400/20 to-orange-400/20',
        thoughtful: 'from-blue-400/20 to-indigo-400/20',
        peaceful: 'from-green-400/20 to-emerald-400/20',
        hopeful: 'from-purple-400/20 to-pink-400/20',
        reflective: 'from-slate-400/20 to-gray-400/20'
      };

      return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white p-4 md:p-8' },
        React.createElement('div', { className: 'max-w-3xl mx-auto' },
          React.createElement('div', { className: 'text-center mb-12 mt-8' },
            React.createElement('div', { className: 'flex items-center justify-center gap-2 mb-4' },
              React.createElement(Heart, { className: 'w-8 h-8 text-pink-400 fill-pink-400' }),
              React.createElement('h1', { className: 'text-4xl md:text-5xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent' }, 'My Silent Confessions')
            ),
            React.createElement('p', { className: 'text-slate-300 text-lg' }, 'My version of closure.')
          ),
          React.createElement('div', { className: `bg-gradient-to-br ${moodColors[currentEntry.mood]} backdrop-blur-sm rounded-3xl p-8 md:p-12 shadow-2xl border border-white/10 mb-8` },
            React.createElement('div', { className: 'flex items-center gap-2 text-slate-300 mb-6' },
              React.createElement(Calendar, { className: 'w-5 h-5' }),
              React.createElement('span', { className: 'text-sm font-medium' }, 
                new Date(currentEntry.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })
              )
            ),
            React.createElement('h2', { className: 'text-3xl md:text-4xl font-bold mb-6 leading-tight' }, currentEntry.title),
            React.createElement('p', { className: 'text-lg md:text-xl leading-relaxed text-slate-100 whitespace-pre-wrap' }, currentEntry.content),
            React.createElement('div', { className: 'mt-8 inline-block' },
              React.createElement('span', { className: 'px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm text-sm font-medium capitalize' }, `Feeling: ${currentEntry.mood}`)
            )
          ),
          React.createElement('div', { className: 'flex items-center justify-between mb-8' },
            React.createElement('button', { onClick: goToPrevious, className: 'flex items-center gap-2 px-6 py-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all duration-300 group' },
              React.createElement(ChevronLeft, { className: 'w-5 h-5 group-hover:-translate-x-1 transition-transform' }),
              React.createElement('span', { className: 'font-medium' }, 'Previous')
            ),
            React.createElement('div', { className: 'flex gap-2' },
              entries.map((_, index) =>
                React.createElement('button', {
                  key: index,
                  onClick: () => setCurrentIndex(index),
                  className: `w-2 h-2 rounded-full transition-all duration-300 ${index === currentIndex ? 'bg-pink-400 w-8' : 'bg-white/30 hover:bg-white/50'}`
                })
              )
            ),
            React.createElement('button', { onClick: goToNext, className: 'flex items-center gap-2 px-6 py-3 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all duration-300 group' },
              React.createElement('span', { className: 'font-medium' }, 'Next'),
              React.createElement(ChevronRight, { className: 'w-5 h-5 group-hover:translate-x-1 transition-transform' })
            )
          ),
          React.createElement('div', { className: 'text-center text-slate-400 text-sm' },
            React.createElement('p', null, `Entry ${currentIndex + 1} of ${entries.length}`)
          )
        )
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(DiaryApp));
  </script>
</body>
</html>